---
title: "Melk"
output: html_document
---

```{r, echo=FALSE, fig.height=8, fig.width=12}
# Load the required libraries
library(ggplot2)
library(ggtext)
library(reshape2)

# Read the dataset
data1 <- read.csv("Melkaanvoer_en_zuivelproductie2016-2020.csv", sep = ";", dec = ",")
data2 <- read.csv("Melkaanvoer_en_zuivelproductie2011-2015.csv", sep = ";", dec = ",")
data3 <- read.csv("Melkaanvoer_en_zuivelproductie2006-2010.csv", sep = ";", dec = ",")
header_text <- c("Perioden","Hoeveelheid \n(1000 kg)", "Vetgehalte \n (%)", "Eiwitgehalte \n (%)", "Melkpoeder totaal \n(1000 kg)", "Niet-mager \nmelkpoeder \n(1000 kg)", "Mager melkpoeder \n(1000 kg)", "Gecondenseerde melk \n(1000 kg)")

# Merge datasets
data <- rbind(data3, data2, data1)
colnames(data) <- header_text
data_long<- melt(data, id.vars=c("Perioden"))

#intialize point P
p<-ggplot(data_long,aes(Perioden, value, col=variable))

# Create graph plot
p+geom_point()+facet_wrap(.~variable, scales = "free", ncol=2) + geom_smooth(method = 'loess', formula = 'y ~ x') + theme(legend.position = "none")

#create boxplot plot with jitter
p+geom_boxplot()+ geom_jitter()+facet_wrap(.~variable, scales = "free", nrow= 1 ) + theme(legend.position = "none")

#create linegraph plot
p+geom_line()+facet_wrap(.~variable, scales = "free", ncol=2)+ theme(legend.position = "none")
```